<transaction-list-wrapper ng-class="editable">
    <table class="data item-list" ng-class="editable">
        <thead ng-show="withHeader">
            <th ng-click="sortBy('datePosted');">Date Posted</th>
            <th ng-click="sortBy('amount');">Amount</th>
            <th ng-click="sortBy('description');">Description</th>
            <th ng-show="includeTags">Budgets</th>
        </thead>
        <tbody>
            <tr ng-repeat="txn in transactions | orderBy:sort.column:sort.asc | limitTo:itemsPerPage:offset track by txn.id">
                <td txn-edit="true" ng-model="txn.datePosted" ng-switch on="!!edit['txn-datePosted']">
                    <span ng-switch-when="false" ng-bind="txn.datePosted | date:'yyyy-MM-dd'"></span>
                    <div ng-switch-when="true" ng-blur="$emit('yaba.edit2view-txn-datePosted', $event)">
                        <input
                          type="date"
                          ng-model="txn.datePosted"
                          class="txn-edit-field"
                          ng-blur="$emit('yaba.edit2view-txn-datePosted', $event)"
                        />
                        <!-- <md-datepicker ng-model="txn.datePosted"
                            default-date="txn.datePosted"
                            datepicker-popup="yyyy-MM-dd"
                        ></md-datepicker> -->
                    </div>
                </td>
                <td txn-edit="true" ng-model="txn.amount" ng-switch on="!!edit['txn-amount']">
                    <span ng-switch-when="false" ng-bind="txn.amount | currency"></span>
                    <span ng-switch-when="true">
                        <input
                        type="number"
                        ng-model="txn.amount"
                        class="txn-edit-field"
                        ng-blur="$emit('yaba.edit2view-txn-amount', $event)"
                        />
                    </span>
                </td>
                <td txn-edit="true" ng-model="txn.description" ng-switch on="!!edit['txn-description']">
                    <span ng-switch-when="false" ng-bind="txn.description"></span>
                    <span ng-switch-when="true">
                        <input
                        type="text"
                        ng-model="txn.description"
                        class="txn-edit-field"
                        ng-blur="$emit('yaba.edit2view-txn-description', $event)"
                        />
                    </span>
                </td>
                <td txn-edit="true" ng-model="txn.tags" ng-switch on="!!edit['txn-tags']" ng-show="includeTags">
                    <span ng-switch-when="false"> {{ txn.tags.join(", ") }} </span>
                    <span ng-switch-when="true">
                        <md-chips
                        ng-model="txn.tags"
                        ng-blur="$scope.$emit('yaba.edit2view-txn-tags', $event)"
                        md-readonly="false"
                        md-removable="false"
                        md-enable-chip-edit="true"
                        ></md-chips>
                    </span>
                </td>
            </tr>
        </tbody>
    </table>
    <yaba-pagination
      ng-show="showPagination"
      item-count="transactions.length"
      items-per-page="itemsPerPage"
      offset="offset"
    ></yaba-pagination><br />
    <debug>
        local Txn: <span ng-bind="transactions.length"></span>
    </debug>
</transaction-list-wrapper>
